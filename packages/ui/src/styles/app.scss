@use 'sass:color';
@use 'sass:math';
@use 'common' as *;

$margin-sizes: 0, 1, 3, 6, 9, 12, 18, 24, 36;

html {
    color: $default-color;
    font-size: 16px;
    font-family: sans-serif;
    line-height: 1.5;

    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    > body {
        margin: 0;
        font-size: 1.125rem;

        main {
            height: 100vh;
        }

        label {
            display: block;

            > input {
                display: block;
                font-size: inherit;

                &[aria-invalid='true'] {
                    color: $error-color;
                    border-color: $error-color;

                    &:focus {
                        @include box-shadow($error-color);
                    }
                }
            }

            + .input-error {
                color: $error-color;
            }

            &:has(> input[aria-invalid='true']) {
                color: $error-color;
            }
        }

        input,
        button {
            padding: 0.375rem 0.5625rem;
            color: inherit;
            font-family: inherit;
            background: none;
            outline: none;
            border: 0.1875rem solid $default-color;
            border-radius: 0.5625rem;
            transition: box-shadow 0.35s;

            &:focus {
                @include box-shadow($default-color);
            }
        }

        input {
            width: 15rem;
        }

        button {
            font-size: 1.125rem;
            line-height: 1.2;
            text-transform: uppercase;
            cursor: pointer;

            &:hover {
                @include box-shadow($default-color);
            }

            &:active {
                background-color: color.scale($default-color, $lightness: 90%);
            }
        }

        .smaller {
            font-size: 0.75rem;
        }

        .small {
            font-size: 0.9375rem;
        }

        .large {
            font-size: 1.5rem;
        }

        .larger {
            font-size: 1.875rem;
        }

        .height-100 {
            height: 100%;
        }

        .flexbox {
            display: flex;
            flex-flow: row nowrap;
            justify-content: flex-start;
            align-items: center;

            &.flexbox-direction-column {
                flex-direction: column;
            }

            &.flexbox-wrap {
                flex-wrap: wrap;
            }

            &.flexbox-justify-content-center {
                justify-content: center;
            }

            &.flexbox-justify-content-end {
                justify-content: flex-end;
            }

            &.flexbox-align-items-start {
                align-items: flex-start;
            }

            &.flexbox-align-items-end {
                align-items: flex-end;
            }

            &.flexbox-align-items-stretch {
                align-items: stretch;
            }
        }

        @each $size in $margin-sizes {
            .mt-#{$size} {
                margin-top: math.div($size, 16) * 1rem;
            }

            .mb-#{$size} {
                margin-bottom: math.div($size, 16) * 1rem;
            }

            .ml-#{$size} {
                margin-left: math.div($size, 16) * 1rem;
            }

            .mr-#{$size} {
                margin-right: math.div($size, 16) * 1rem;
            }
        }
    }
}
